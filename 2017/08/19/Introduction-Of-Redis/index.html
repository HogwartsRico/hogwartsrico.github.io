<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.4.0 -->
    <script>window.materialVersion = "1.4.0"</script>

    <!-- Title -->
    
    <title>
        
            Redis入门 | 
        
        Rico&#39;s Blog
    </title>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    
    
    
    
        <link rel="dns-prefetch" href="https://hm.baidu.com">
    
    
    
    
    
    
    

    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="Rico">
    <meta name="description" itemprop="description" content>
    <meta name="keywords" content="Rico,Reids">

    <!-- Site Verification -->
    
    

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" sizes="192x192" href="/img/favicon.png">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!--iOS -->
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Rico&#39;s Blog">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://hogwartsrico.github.io">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Redis入门 | Rico&#39;s Blog">
    <meta property="og:image" content="/img/favicon.png">
    <meta property="og:description" content>
    <meta property="og:article:tag" content="Reids"> 

    
        <meta property="article:published_time" content="8月 19, 2017">
        <meta property="article:modified_time" content="3月 24, 2020">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:title" content="Redis入门 | Rico&#39;s Blog">
    <meta name="twitter:description" content>
    <meta name="twitter:image" content="/img/favicon.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="http://hogwartsrico.github.io">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://hogwartsrico.github.io/2017/08/19/Introduction-Of-Redis/index.html">
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Rico&#39;s Blog",
        "logo": "/img/favicon.png"
    },
    "author": {
        "@type": "Person",
        "name": "Rico",
        "image": {
            "@type": "ImageObject",
            "url": "/img/favicon.png"
        },
        "description": "Javaer"
    },
    "headline": "Redis入门",
    "url": "http://hogwartsrico.github.io/2017/08/19/Introduction-Of-Redis/index.html",
    "datePublished": "8月 19, 2017",
    "dateModified": "3月 24, 2020",
    "description": "",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://hogwartsrico.github.io"
    }
}
</script>


    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(key){try{localStorage.removeItem(key)}catch(e){}};lsloader.setLS=function(key,val){try{localStorage.setItem(key,val)}catch(e){}};lsloader.getLS=function(key){var val="";try{val=localStorage.getItem(key)}catch(e){val=""}return val};versionString="/*"+materialVersion+"*/";lsloader.clean=function(){try{var keys=[];for(var i=0;i<localStorage.length;i++){keys.push(localStorage.key(i))}keys.forEach(function(key){var data=lsloader.getLS(key);if(data&&data.indexOf(versionString)===-1){lsloader.removeLS(key)}})}catch(e){}};lsloader.clean();lsloader.load=function(jsname,jspath,cssonload){cssonload=cssonload||function(){};var code;code=this.getLS(jsname);if(code&&code.indexOf(versionString)===-1){this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}if(code){var versionNumber=code.split(versionString)[0];if(versionNumber!=jspath){console.log("reload:"+jspath);this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}code=code.split(versionString)[1];if(/\.js?.+$/.test(versionNumber)){this.jsRunSequence.push({name:jsname,code:code});this.runjs(jspath,jsname,code)}else{document.getElementById(jsname).appendChild(document.createTextNode(code));cssonload()}}else{this.requestResource(jsname,jspath,cssonload)}};lsloader.requestResource=function(name,path,cssonload){var that=this;if(/\.js?.+$/.test(path)){this.iojs(path,name,function(path,name,code){that.setLS(name,path+versionString+code);that.runjs(path,name,code)})}else if(/\.css?.+$/.test(path)){this.iocss(path,name,function(code){document.getElementById(name).appendChild(document.createTextNode(code));that.setLS(name,path+versionString+code)},cssonload)}};lsloader.iojs=function(path,jsname,callback){var that=this;that.jsRunSequence.push({name:jsname,code:""});try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(path,jsname,xhr.response);return}}that.jsfallback(path,jsname)}};xhr.send(null)}catch(e){that.jsfallback(path,jsname)}};lsloader.iocss=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.iofonts=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.runjs=function(path,name,code){if(!!name&&!!code){for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code=code}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var script=document.createElement("script");script.appendChild(document.createTextNode(this.jsRunSequence[0].code));script.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(script);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var that=this;var script=document.createElement("script");script.src=this.jsRunSequence[0].path;script.type="text/javascript";this.jsRunSequence[0].status="loading";script.onload=function(){that.jsRunSequence.shift();if(that.jsRunSequence.length>0){that.runjs()}};document.body.appendChild(script)}};lsloader.tagLoad=function(path,name){this.jsRunSequence.push({name:name,code:"",path:path,status:"failed"});this.runjs()};lsloader.jsfallback=function(path,name){if(!!this.jsnamemap[name]){return}else{this.jsnamemap[name]=name}for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code="";this.jsRunSequence[k].status="failed";this.jsRunSequence[k].path=path}}this.runjs()};lsloader.cssfallback=function(path,name,cssonload){if(!!this.cssnamemap[name]){return}else{this.cssnamemap[name]=1}var link=document.createElement("link");link.type="text/css";link.href=path;link.rel="stylesheet";link.onload=link.onerror=cssonload;var root=document.getElementsByTagName("script")[0];root.parentNode.insertBefore(link,root)};lsloader.runInlineScript=function(scriptId,codeId){var code=document.getElementById(codeId).innerText;this.jsRunSequence.push({name:scriptId,code:code});this.runjs()};lsloader.loadCombo=function(jslist){var updateList="";var requestingModules={};for(var k in jslist){var LS=this.getLS(jslist[k].name);if(!!LS){var version=LS.split(versionString)[0];var code=LS.split(versionString)[1]}else{var version=""}if(version==jslist[k].path){this.jsRunSequence.push({name:jslist[k].name,code:code,path:jslist[k].path})}else{this.jsRunSequence.push({name:jslist[k].name,code:null,path:jslist[k].path,status:"comboloading"});requestingModules[jslist[k].name]=true;updateList+=(updateList==""?"":";")+jslist[k].path}}var that=this;if(!!updateList){var xhr=new XMLHttpRequest;xhr.open("get",combo+updateList,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){that.runCombo(xhr.response,requestingModules);return}}else{for(var i in that.jsRunSequence){if(requestingModules[that.jsRunSequence[i].name]){that.jsRunSequence[i].status="failed"}}that.runjs()}}};xhr.send(null)}this.runjs()};lsloader.runCombo=function(comboCode,requestingModules){comboCode=comboCode.split("/*combojs*/");comboCode.shift();for(var k in this.jsRunSequence){if(!!requestingModules[this.jsRunSequence[k].name]&&!!comboCode[0]){this.jsRunSequence[k].status="comboJS";this.jsRunSequence[k].code=comboCode[0];this.setLS(this.jsRunSequence[k].name,this.jsRunSequence[k].path+versionString+comboCode[0]);comboCode.shift()}}this.runjs()}})();</script>

    <!-- Import CSS & jQuery -->
    
        <style id="css/material.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/material.min.css","/css/material.min.css?fJTiM/K1J3dWIruo3pxtAw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        <style id="css/style.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/style.min.css","/css/style.min.css?oCSEO3ST+aEypEwttTDI9g==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        
        
            <style>
    
    .footer-sns-facebook {
        background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPjxwYXRoIGQ9Ik0xMzguNiA3OGMtMjIuNCA1LjItNTUuOCA0MC4yLTYwLjYgNjMuNC0xLjQgNi40LTIgMTI5LjgtMS42IDM2Ny42LjYgMjk4LjYgMSAzNTguOCAzLjQgMzYzIDExIDIwLjIgMjEuNiAzMi40IDM3LjIgNDMgMTUgMTAuMiAxNy40IDExLjIgMzMgMTMgMTEuMiAxLjQgMTM2IDIgMzY1IDEuNiAzMTQtLjYgMzQ4LjYtMSAzNTUtMy44IDE1LjgtNy4yIDMzLjgtMjIgNDMuMi0zNS40IDUuMi03LjQgMTAuOC0xNi42IDEyLjYtMjAuNCAyLjgtNi40IDMuMi00MC44IDMuOC0zNTQgLjQtMjIzLS4yLTM1My40LTEuNC0zNjUtMi0xNy0yLjYtMTguNi0xMy0zNC04LjYtMTIuNi0xNC4yLTE4LjQtMjUuMi0yNS44LTcuOC01LjQtMTcuNC0xMS0yMS42LTEyLjQtNi0yLjItNzIuOC0yLjYtMzY1LjQtMi42LTE5Ni44LjItMzYxIC44LTM2NC40IDEuOHptNjU3LjYgODcuOGw0LjggMy44djU1LjJjMCA1NC42IDAgNTUuMi00LjYgNTkuNi00LjQgNC40LTYgNC42LTUwLjIgNS42bC00NS42IDEtNy4yIDUuNmMtMTAuNCA4LTE2LjggMTcuMi0xOS4yIDI3LjQtMSA1LTEuOCAyNC44LTEuOCA0NCAuMiAzOCAxLjYgNDQuNiAxMC44IDQ4IDIuOCAxLjIgMjguNCAyIDU2LjggMiA0Ny44IDAgNTIgLjIgNTYuMiAzLjhsNC44IDMuOHY1NS4yYzAgNTQuNiAwIDU1LjItNC42IDU5LjYtNC40IDQuNi01LjQgNC42LTU3IDUuMi0yOC44LjItNTQuNC44LTU2LjggMS40LTIuNC42LTUuNiAzLTYuOCA1LjQtMS44IDMuMi0yLjQgNDEuNC0yLjYgMTQzLjJsLS4yIDEzOC44LTUuNiA0LjgtNS42IDQuOEg2MDljLTUyLjQgMC01Mi44IDAtNTguMi00LjZsLTUuNC00LjYtLjItMTQwLjYtLjItMTQwLjYtNC44LTMuOGMtNC4yLTMuNC04LTMuOC0zNS42LTMuOC0zMi44IDAtNDEtMS44LTQzLjYtMTAtLjYtMi4yLTEuMi0yNS40LTEuMi01MS40IDAtNjAuOC0uMi01NyAzLjQtNjEuNiAyLjgtMy42IDYtNCAzNy44LTUgMzMtMSAzNS4yLTEuMiAzOS40LTUuNiA0LjYtNC40IDQuNi01LjIgNS44LTcxIDEuMi03My40LjItNjcuMiAxNi42LTk5LjQgOC0xNS44IDEyLjgtMjIgMjgtMzcgMTUuMi0xNS4yIDIxLjQtMTkuNiAzOC4yLTI4IDExLTUuNCAyNC0xMSAyOS0xMi4yIDYuMi0xLjggMjguNi0yLjYgNzEuMi0yLjYgNTguNi0uMiA2Mi42IDAgNjcgMy42eiIvPjwvc3ZnPg==);
    }
    
    
    .footer-sns-twitter {
        background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPjxwYXRoIGQ9Ik0xMzguNiA3OGMtMjIuNCA1LjItNTUuOCA0MC4yLTYwLjYgNjMuNC0xLjQgNi40LTIgMTI5LjgtMS42IDM2Ny42LjYgMjk4LjYgMSAzNTguOCAzLjQgMzYzIDExIDIwLjIgMjEuNiAzMi40IDM3LjIgNDMgMTUgMTAuMiAxNy40IDExLjIgMzMgMTMgMTEuMiAxLjQgMTM2IDIgMzY1IDEuNiAzMTQtLjYgMzQ4LjYtMSAzNTUtMy44IDE1LjgtNy4yIDMzLjgtMjIgNDMuMi0zNS40IDUuMi03LjQgMTAuOC0xNi42IDEyLjYtMjAuNCAyLjgtNi40IDMuMi00MC44IDMuOC0zNTQgLjQtMjIzLS4yLTM1My40LTEuNC0zNjUtMi0xNy0yLjYtMTguNi0xMy0zNC04LjYtMTIuNi0xNC4yLTE4LjQtMjUuMi0yNS44LTcuOC01LjQtMTcuNC0xMS0yMS42LTEyLjQtNi0yLjItNzIuOC0yLjYtMzY1LjQtMi42LTE5Ni44LjItMzYxIC44LTM2NC40IDEuOHptNTMyLjggMjA1YzEwIDQgMjMgMTAuOCAyOC44IDE1LjIgMTIuNiA5LjIgMTYuNiAxMC42IDI5LjQgOS40IDYuNi0uNiAxMy0zLjIgMjAuNC04LjIgMTEuMi03LjYgMTkuNC05LjIgMjMuNi01IDMuNiAzLjYgMi44IDktMi44IDE4LjYtNy4yIDEyLjQtNiAxOC44IDQuMiAyNC4yIDQuNCAyLjIgOC4yIDUuNiA4LjYgNy40IDEgNC44LTEyLjYgMjQuMi0yMiAzMS44LTExLjggOS4yLTE3LjIgMjIuNi0xOS42IDQ3LjgtNC44IDUwLjQtNy44IDY2LjYtMTYuNCA4NS40LTMgNy03IDE3LjgtOC44IDI0LTEuOCA2LjQtNSAxNC42LTcuNCAxOC40LTIuMiAzLjgtNy40IDEzLTExLjQgMjAuNC0xNy4yIDMwLjgtNDMuNCA2MS40LTcxLjQgODMuOC0yNS42IDIwLjQtNDYgMzMuMi02NC4yIDQwLjItOC40IDMuMi0xOCA3LjYtMjEuNCA5LjYtNy40IDQuNi0yMi40IDguNi01Ny4yIDE1LTYyLjIgMTEuNi03OS4yIDExLjQtMTM1LjYtMS0zMi40LTctMzguNi05LTUyLTE2LjgtMjEuNC0xMi42LTI0LjItMTQuOC0yNC4yLTE5LjQgMC02LjIgMTAuMi05LjIgMzUtMTAuNCAyMi40LTEgMjguNi0yLjYgNTctMTQuMiAyMy44LTkuOCAyOS40LTEyLjggMzAuNC0xNi44IDIuMi04LjItMy0xMy4yLTI2LjgtMjUuNC0yNS44LTEzLjItMzIuMi0xOC40LTQzLjgtMzUuOC05LTEzLjYtMTAtMjEuMi0zLjYtMzMuNiA1LjQtMTAuOCAzLjYtMTUtMTEuOC0yNS40LTktNi0xNC0xMS42LTIwLjgtMjIuNi0yMy40LTM3LjgtMjUtNTAuOC03LjItNTkuOCA0LjgtMi40IDkuNC01LjQgMTAuMi02LjYgMi44LTQuMi0uNC0xNS42LTguNC0yOS0xMS42LTE5LjYtMTMuMi0yNS44LTEzLjItNTUuMiAwLTI4LjggMi42LTM3LjggMTItNDAuMiA5LTIuMiAxNC44IDEgMzUuNiAyMC4yIDI0LjggMjIuOCA0My42IDM2LjYgNjIuOCA0NS44IDggMy44IDE3LjggOS4yIDIyIDEyIDQuMiAyLjggMTQuOCA3IDIzLjQgOS4yIDguNiAyLjIgMjQuMiA2LjggMzQuOCAxMC4yIDEzLjQgNC40IDIzLjYgNi40IDMzIDYuNiAxMi44LjIgMTQuMi0uMiAxOC42LTUuNCA0LTQuOCA0LjgtNy44IDQuOC0xOS4yIDAtMTQuNCA1LjYtMzkuNiAxMS4yLTUwLjYgNC4yLTguNCAyOS4yLTM0LjIgMzkuOC00MS40IDcuOC01LjQgMzUuNi0xNiA1Mi0yMCAxNC4yLTMuNiAzMi42LTEuMiA1Mi40IDYuOHoiLz48L3N2Zz4=);
    }
    
    
    .footer-sns-gplus {
        background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPjxwYXRoIGQ9Ik0xMzguNiA3OGMtMjIuNCA1LjItNTUuOCA0MC4yLTYwLjYgNjMuNC0xLjQgNi40LTIgMTI5LjgtMS42IDM2Ny42LjYgMjk4LjYgMSAzNTguOCAzLjQgMzYzIDExIDIwLjIgMjEuNiAzMi40IDM3LjIgNDMgMTUgMTAuMiAxNy40IDExLjIgMzMgMTMgMTEuMiAxLjQgMTM2IDIgMzY1IDEuNiAzMTQtLjYgMzQ4LjYtMSAzNTUtMy44IDE1LjgtNy4yIDMzLjgtMjIgNDMuMi0zNS40IDUuMi03LjQgMTAuOC0xNi42IDEyLjYtMjAuNCAyLjgtNi40IDMuMi00MC44IDMuOC0zNTQgLjQtMjIzLS4yLTM1My40LTEuNC0zNjUtMi0xNy0yLjYtMTguNi0xMy0zNC04LjYtMTIuNi0xNC4yLTE4LjQtMjUuMi0yNS44LTcuOC01LjQtMTcuNC0xMS0yMS42LTEyLjQtNi0yLjItNzIuOC0yLjYtMzY1LjQtMi42LTE5Ni44LjItMzYxIC44LTM2NC40IDEuOHpNNDMwIDI5NS40YzQwLjYgMTUuNCA1Ni42IDIzLjggNzIuNiAzOC40IDYuOCA2LjIgNy4yIDE1LjIgMSAyMy40LTYuMiA4LTMzLjYgMzMuOC0zOSAzNi42LTUuNiAyLjgtMTcuNiAyLjgtMjMuMi0uMi0yLjQtMS4yLTguMi01LjItMTMtOC44LTExLjItOC42LTI0LjYtMTEuMi01NS4yLTExLjItMjcuNCAwLTQwLjYgMi42LTUyLjIgMTAuNC00LjQgMi44LTEyLjIgNy42LTE3LjIgMTAuNi0yMyAxMy4yLTUxLjQgNTUtNTUuOCA4Mi40LTIuNiAxNS42LTIuNCAzNC44LjIgNTEgMi44IDE3LjQgMTkuOCA0OC44IDM1LjIgNjUuMiAxNiAxNi42IDQ1IDMzLjYgNjIuOCAzNi42IDI2LjggNC40IDY1LjggMS42IDc5LjQtNS44IDIwLjYtMTEuNCAzMS0xOSA0MS0zMC40IDE4LjgtMjEuNiAyMy40LTM0LjIgMTUuNi00My44LTMuOC00LjgtNC40LTQuOC01MS01LjgtNjAuOC0xLjItNTYuMiAyLjItNTYuMi00My4yIDAtMzIuNC4yLTMzLjIgNC44LTM3IDQuNC0zLjYgOS0zLjggOTItMy44IDc5IDAgODcuOC40IDk0LjIgMy42IDExLjIgNS42IDEzIDExLjQgMTIuOCA0My40IDAgMjUuNC0uOCAzMC44LTcuNiA1OC00IDE2LjYtOS44IDM0LTEyLjYgMzktMi44IDUtOC4yIDE0LjItMTEuNiAyMC42LTguNCAxNS40LTI3LjIgMzYuOC00MC44IDQ2LjYtNS44IDQuNC0xMy44IDEwLjItMTcuNiAxMy4yLTMuOCAzLTExIDctMTYuMiA4LjgtNS4yIDEuOC0xNi4yIDYuNC0yNC40IDEwLTIyLjQgOS42LTM0LjggMTEuNi03MyAxMS42LTM3LjYuMi00Ny0xLjQtNzEtMTItOC4yLTMuNi0xNy42LTcuMi0yMC44LTgtMTUuOC0zLjgtNjctNDUuMi03Ny44LTYyLjgtMi4yLTMuOC03LjYtMTEuNi0xMS44LTE3LjItNC4yLTUuNC05LTE0LTEwLjYtMTktMS44LTQuOC02LjItMTYtMTAtMjQuOC0zLjYtOC44LTcuOC0yMi4yLTkuMi0yOS42LTMuMi0xOC44LTEuNC03OS40IDIuOC05MS40IDEzLjgtNDAuNiAzNS42LTc4IDU4LjgtMTAwLjIgMTQtMTMuNiA0Ny4yLTM2LjQgNTgtMzkuOCA0LjItMS40IDEzLjQtNS4yIDIwLjYtOC40IDIyLTEwIDMyLjgtMTEuNiA3Ni0xMSAzMy44LjYgNDAuNCAxLjIgNTAgNC44em0zNDAuOCA4MC44YzggMy42IDkuNiAxMS4yIDkuMiAzOS4yLS42IDM0LjQtLjYgMzQgNSAzOS42IDQuOCA1IDUuNCA1IDM3LjYgNSA0My40IDAgNDQuNC44IDQzLjIgMzYuMi0uOCAxNy0xLjIgMTguNC02LjQgMjMtNS40IDQuNi02LjYgNC44LTM3LjYgNC44LTMxLjIgMC0zMiAuMi0zNi44IDUtNS42IDUuNC01LjYgNC40LTUgNDEuMi40IDI2LjQuMiAyNy40LTQuNiAzMy00LjggNS42LTYgNS44LTI0LjQgNi40LTIwLjguOC0yOS42LTEuNC0zMy40LTguNC0xLjQtMi42LTItMTUuNi0xLjgtMzUuNi40LTMxLjIuNC0zMS42LTQuNi0zNi42cy01LjYtNS0zNi01Yy0xOC44IDAtMzMtLjgtMzYtMi4yLTcuNi0zLjYtOS42LTExLjItOC44LTMzLjguOC0yOC4yLjQtMjggNDEtMjggNDUuNCAwIDQ1LjQgMCA0NC42LTQyLjYtLjYtMzMtLjYtMzMgNS0zOC40IDQuNC00LjYgNi4yLTUgMjQuOC01IDExIDAgMjIuMiAxIDI1IDIuMnoiLz48L3N2Zz4=);
    }
    
    
    
    
    
    
    
    
    
</style>

        
        <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">


        <script>lsloader.load("js/jquery.min.js","/js/jquery.min.js?ezyEvm8ST5CGfpA+kFFi1g==")</script>
    
    
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Analytics -->
    <script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?54ee66f82cedec3c2b6b4ea942911185';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>

    <!-- Custom Head -->
    
</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    
    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#NoSQL概述"><span class="post-toc-number">1.</span> <span class="post-toc-text">NoSQL概述</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Redis概述"><span class="post-toc-number">2.</span> <span class="post-toc-text">Redis概述</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Redis的安装和使用"><span class="post-toc-number">3.</span> <span class="post-toc-text">Redis的安装和使用</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Jedis入门"><span class="post-toc-number">4.</span> <span class="post-toc-text">Jedis入门</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Redis的数据结构"><span class="post-toc-number">5.</span> <span class="post-toc-text">Redis的数据结构</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Redis数据结构之String"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">Redis数据结构之String</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#存储String"><span class="post-toc-number">5.1.1.</span> <span class="post-toc-text">存储String</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#redis的特性"><span class="post-toc-number">5.2.</span> <span class="post-toc-text">redis的特性</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Redis持久化"><span class="post-toc-number">5.3.</span> <span class="post-toc-text">Redis持久化</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#RDB方式"><span class="post-toc-number">5.4.</span> <span class="post-toc-text">RDB方式</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#AOF方式"><span class="post-toc-number">5.5.</span> <span class="post-toc-text">AOF方式</span></a></li></ol></li></ol>
        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>
    





<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                Redis入门
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.jpg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Rico</strong>
        <span>8月 19, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/Reids/">Reids</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Redis入门&url=http://hogwartsrico.github.io/2017/08/19/Introduction-Of-Redis/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Redis入门&url=http://hogwartsrico.github.io/2017/08/19/Introduction-Of-Redis/index.html&via=Rico" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://hogwartsrico.github.io/2017/08/19/Introduction-Of-Redis/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://hogwartsrico.github.io/2017/08/19/Introduction-Of-Redis/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h1 id="NoSQL概述"><a href="#NoSQL概述" class="headerlink" title="NoSQL概述"></a>NoSQL概述</h1><p>NoSQL=Not Only SQL  </p>
<p>非关系型数据库   </p>
<p><strong>为什么需要NoSQL ?</strong></p>
<p>High performance 高并发读写  </p>
<p>Huge Storage 海量数据的高效率存储和访问  </p>
<p>High Scalaility &amp; HighAvaliablity 高可扩展性和高可用性  </p>
<p><img src="1.png" alt>   </p>
<p><img src="2.png" alt>  </p>
<p>键值存储： Redis 优点： 快速查询  缺点：存储的数据缺少结构化  </p>
<p>列存储： HBase ，优点：查找速度快，扩展性强  ，缺点：功能相对局限 </p>
<p>文档数据库： MogoDB:</p>
<p>图形数据库： infoGrid  </p>
<p><img src="3.png" alt>  </p>
<p>NoSQL的特点<br>数据之间没有关系 </p>
<p><img src="4.png" alt>  </p>
<h1 id="Redis概述"><a href="#Redis概述" class="headerlink" title="Redis概述"></a>Redis概述</h1><p><img src="5.png" alt>  </p>
<p><img src="6.png" alt>  </p>
<h1 id="Redis的安装和使用"><a href="#Redis的安装和使用" class="headerlink" title="Redis的安装和使用"></a>Redis的安装和使用</h1><p>上Reids官网 <a href="https://redis.io/download" target="_blank" rel="noopener">https://redis.io/download</a> 下载 </p>
<p>官网上有安装说明  </p>
<p><img src="7.png" alt>  </p>
<p>make </p>
<p><img src="8.png" alt>  </p>
<p>make完之后要进行安装  </p>
<p><code>make PREFIX=/usr/local/redis install</code>  //指定路径 </p>
<p><img src="10.png" alt>  </p>
<p>然后在<code>local/usr/redis</code>里面就有redis的文件了 </p>
<p><img src="11.png" alt><br><code>redis-benchmark</code>是性能测试的工具<br>redis-check-aof 是aof文件修复工具<br>redis-check-rdb  是rdb文件检查工具<br>redis-cli是命令行的客户端<br>redis-server 启动的客户端  </p>
<p>拷贝配置文件<br>将redis的安装包里的redis.conf拷贝到<code>/usr/local/redis</code>目录下    </p>
<p><img src="12.png" alt>  </p>
<p>启动 redis-server  </p>
<p><img src="9.png" alt>  </p>
<p>这种启动属于前端启动，启动起来之后我们就不能进行操作了  </p>
<p>我们一般采用后端启动方式  </p>
<p>修改配置文件  </p>
<p>找到<code>daemonize no</code>这一行，将no改为yes  </p>
<p><img src="13.png" alt> </p>
<p>保存后退出   </p>
<p>然后运行下面的命令   </p>
<p><img src="14.png" alt>   </p>
<p>意思是使用redis.conf配置文件里的配置来启动redis   </p>
<p>使用命令<code>ps -ef | grep -i redis</code><br>查看redis是否运行及其端口<br>redis的默认端口是<strong>6379</strong><br><img src="15.png" alt>  </p>
<p>关闭Redis  </p>
<p>第一种方式 <code>kill -9 5318</code>但这种方式不建议使用    </p>
<p>第二种方式   <code>./bin/redis-cli   shutdown</code>  推荐使用这种方式  </p>
<p>再ps看下没有了  </p>
<p><img src="16.png" alt>   </p>
<p><img src="17.png" alt>  </p>
<p><code>set name imooc</code> name是key  imooc是值  </p>
<p><code>get  name</code>  获取key为name的值 </p>
<p><code>keys *</code> 获取所有key  </p>
<p><code>del name</code> 删除key为name的值 和key一起删除  </p>
<h1 id="Jedis入门"><a href="#Jedis入门" class="headerlink" title="Jedis入门"></a>Jedis入门</h1><p> Jedis是Redis官方首选的Java客户端开发包   </p>
<p>要使其他ip的程序访问redis，需要在redis.conf中修改一下配置  </p>
<p><img src="18.png" alt>  </p>
<p>把bind 这一行注释掉  </p>
<p><code>protected-mode yes</code> 改为no </p>
<p>bind 127.0.0.1将只允许本机连接  </p>
<p>protected为yes 会报  </p>
<blockquote>
<p>DENIED Redis is running in protected mode because protected mode is enabled, no bind address was specified, no authentication password is requested to clients. In this mode connections are only accepted from the loopback interface. If you want to connect..</p>
</blockquote>
<p>这个错  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">  public void demo1()&#123;</span><br><span class="line">      Jedis j1=new Jedis(&quot;192.168.0.108&quot;,6379);//ip  端口号</span><br><span class="line">      j1.set(&quot;name&quot;,&quot;rico&quot;);</span><br><span class="line">      String name=j1.get(&quot;name&quot;);</span><br><span class="line">      System.out.println(name);</span><br><span class="line">      j1.close();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p><img src="19.png" alt>  </p>
<p>使用连接池  </p>
<p><img src="20.png" alt>  </p>
<h1 id="Redis的数据结构"><a href="#Redis的数据结构" class="headerlink" title="Redis的数据结构"></a>Redis的数据结构</h1><h2 id="Redis数据结构之String"><a href="#Redis数据结构之String" class="headerlink" title="Redis数据结构之String"></a>Redis数据结构之String</h2><p>五种数据类型   </p>
<ul>
<li>字符串 (常用)</li>
<li>字符串列表  (常用)</li>
<li>有序字符串集合</li>
<li>哈希</li>
<li>字符串集合</li>
</ul>
<p>Key定义的注意点</p>
<ul>
<li>不要过长 (会消耗资源，还会降低查找效率)，最长1024个字节</li>
<li>不要过短</li>
<li>统一的命名规范  </li>
</ul>
<h3 id="存储String"><a href="#存储String" class="headerlink" title="存储String"></a>存储String</h3><p>字符串类型的value最多可以容纳512M<br>常用命令 </p>
<ul>
<li>赋值</li>
<li>删除</li>
<li>扩展</li>
<li>取值</li>
<li>数值增减 </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br></pre></td><td class="code"><pre><span class="line"> 127.0.0.1:6379&gt; get name</span><br><span class="line">&quot;rico&quot;</span><br><span class="line">127.0.0.1:6379&gt; getset name chj</span><br><span class="line">&quot;rico&quot;</span><br><span class="line">127.0.0.1:6379&gt; get name</span><br><span class="line">&quot;chj&quot;</span><br><span class="line">127.0.0.1:6379&gt;</span><br><span class="line">127.0.0.1:6379&gt; del name</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; get name</span><br><span class="line">(nil)</span><br><span class="line">127.0.0.1:6379&gt; incr age</span><br><span class="line">(integer) 28</span><br><span class="line">127.0.0.1:6379&gt; set name rico</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; incr name</span><br><span class="line">(error) ERR value is not an integer or out of range</span><br><span class="line">27.0.0.1:6379&gt; decr age</span><br><span class="line">(integer) 27</span><br><span class="line">127.0.0.1:6379&gt; incrby age 3</span><br><span class="line">(integer) 30</span><br><span class="line">127.0.0.1:6379&gt; decrby age 5</span><br><span class="line">(integer) 25</span><br><span class="line">127.0.0.1:6379&gt; decrby age2 5</span><br><span class="line">(integer) -5  //age2不存在，默认0 ， 0-5就是-5</span><br><span class="line">27.0.0.1:6379&gt; append age 5</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; get age</span><br><span class="line">&quot;255&quot;</span><br><span class="line">127.0.0.1:6379&gt; append age2 5  //append一个不存在的，会创建一个空的，然后后面追加  </span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; get age2</span><br><span class="line">&quot;5&quot;</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">getset是先获取再重新赋值  </span><br><span class="line">获取一个不存在的返回nil  </span><br><span class="line">incr表示增加1  如果这个key不存在，这默认设为0并加1 即为1    </span><br><span class="line">如果不是int型 会报错  ERR value is not an integer or out of range</span><br><span class="line">decr 会递减1 如果不存在则是0-1即为-1  </span><br><span class="line">incrby 可以指定加多少而不是1  同样如果不存在则为0然后加   </span><br><span class="line">decrby 可以指定减少多少  </span><br><span class="line">append表示在后面追加  返回值时长度，并不是值 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## Redis数据结构之哈希 </span><br><span class="line"></span><br><span class="line">String Key和String Value的map容器   </span><br><span class="line">每一个Hash可以存储4294967295个键值对  </span><br><span class="line"></span><br><span class="line">存储Hash的常用命令    </span><br><span class="line"></span><br><span class="line">![](21.png)  </span><br><span class="line"></span><br><span class="line">`hset 名字  key value  ` </span><br><span class="line">`hmset 名字 key value key value` 可以设置多个   </span><br><span class="line">`hget 名字 key`  </span><br><span class="line">`hmget 名字 key1 key2`   </span><br><span class="line">`hgetall 名字` 显示全部 </span><br><span class="line"></span><br><span class="line">![](22.png)  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">![](23.png)   </span><br><span class="line">`hdel 名字 key1  key1` 可以删除多个   </span><br><span class="line"></span><br><span class="line">继续删除返回0，表示字段不存在 </span><br><span class="line">![](24.png)  </span><br><span class="line"></span><br><span class="line">del 名字  删除整个集合  </span><br><span class="line"></span><br><span class="line">![](25.png)  </span><br><span class="line"></span><br><span class="line">删除后再去查找会显示nil  </span><br><span class="line"></span><br><span class="line">支持数字增加 </span><br><span class="line">例如 </span><br><span class="line">`hincrby myhash age 5`  增加5  </span><br><span class="line">但是不支持自增1 hincr是不支持的  </span><br><span class="line"></span><br><span class="line">`hexists 名字  key ` 判断是否有这个key的值 如果有返回1 如果没有返回 0  </span><br><span class="line"></span><br><span class="line"> ![](26.png)    </span><br><span class="line"> </span><br><span class="line"> `hgetall 名字 `可以得到所有属性和值   </span><br><span class="line"> </span><br><span class="line"> `hlen 名字` 有多少键值对   </span><br><span class="line"> </span><br><span class="line"> `hkeys 名字` 可以得到所有的key  </span><br><span class="line"> </span><br><span class="line"> `hvalues 名字` 可以得到所有的value  </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">## Redis的数据结构之 --List  </span><br><span class="line"> </span><br><span class="line">在Redis中，list是按照插入顺序排序的  ，可以在头部和尾部添加元素， </span><br><span class="line"></span><br><span class="line">在链表的两边插入数据效率较高，在链表的中间插入数据，效率较低   </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* ArrayList使用数组方式 所以根据索引来查找数据是非常快的，但是新增和删除的时候涉及到位移的操作效率慢  </span><br><span class="line">* LinkedList双向链表的方式 每个元素都记录了前后元素的指针，插入和删除的时候只是改变了前后元素的指针，所以速度快  </span><br><span class="line"></span><br><span class="line">两端添加 </span><br><span class="line"></span><br><span class="line">查看列表  </span><br><span class="line"></span><br><span class="line">两端弹出 </span><br><span class="line"></span><br><span class="line">获取列表 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">`lpush mylist a b c` lpush 表示在左边添加  a  b  c顺序进入，c在最左侧  如果名字之前没有则会新建，如果有就会继续增加  </span><br><span class="line"></span><br><span class="line">![](27.png)  </span><br><span class="line"></span><br><span class="line">图中第二次lpush已经有了，所以变成添加了  </span><br><span class="line"></span><br><span class="line">`rpush mylist2 a b c `rpush表示在右边添加 a b c 顺序进入，a在最左侧  </span><br><span class="line"></span><br><span class="line">![](28.png)  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">查看 list `lrange mylist 0 5 ` 0表示开始  5表示结束  可以是负值，表示倒数第几个  </span><br><span class="line"></span><br><span class="line">![](29.png)   </span><br><span class="line"></span><br><span class="line">0到-1 相当于从头到尾  </span><br><span class="line"></span><br><span class="line">![](30.png)  </span><br><span class="line"></span><br><span class="line">左端弹出 </span><br><span class="line"></span><br><span class="line">`lpopup 名字 `  </span><br><span class="line"></span><br><span class="line">![](31.png)   </span><br><span class="line"></span><br><span class="line">右端弹出 </span><br><span class="line"></span><br><span class="line">![](32.png)  </span><br><span class="line"></span><br><span class="line">`llen mylist` 获取list长度  </span><br><span class="line"></span><br><span class="line">llen 一个没有的 会返回0  </span><br><span class="line"></span><br><span class="line">`lpushx mylist z`  会在头部插入一个值 但是当mylsit不存在的时候就不会新建然后插入  </span><br><span class="line"></span><br><span class="line">同理还有`rpushx mylist y`  </span><br><span class="line"></span><br><span class="line">移除元素 </span><br><span class="line">`lrem 名字 个数 值` 意思是删除多少个值为多少的值  rem是remove的缩写  </span><br><span class="line"></span><br><span class="line">如果个数大于0 就会从头向尾遍历删除</span><br><span class="line">如果个数小于0 就会从后面向前遍历删除  </span><br><span class="line"></span><br><span class="line">![](33.png)  </span><br><span class="line"></span><br><span class="line">删除了尾部的b </span><br><span class="line">![](34.png)  </span><br><span class="line"></span><br><span class="line">`lset mylist 3 x` 设置角标为3的值 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">![](35.png)  </span><br><span class="line"></span><br><span class="line">`linsert mylist before x a`意思是在mylist中，在第一个出现x的地方的前面插入a  </span><br><span class="line">![](36.png) </span><br><span class="line">之后插入 </span><br><span class="line">![](37.png) </span><br><span class="line"> </span><br><span class="line">把 mylist的尾部压出加入到mylist2的头部  </span><br><span class="line"> </span><br><span class="line">![](38.png)  </span><br><span class="line">这个功能主要用于消费者备份    </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">## Redis的数据结构之Set  </span><br><span class="line">和List类型不同，Set集合中不允许出现重复元素  </span><br><span class="line"></span><br><span class="line">添加删除元素  </span><br><span class="line">获得集合中的元素  </span><br><span class="line">集合中的差集   </span><br><span class="line">集合中的交集运算  </span><br><span class="line">集合中的并集运算  </span><br><span class="line">扩展命令  </span><br><span class="line"></span><br><span class="line">![](40.png)  </span><br><span class="line"></span><br><span class="line">`sadd 名字  值1  值2  值3  ...`   </span><br><span class="line">如果之前有这个值，继续添加会返回0 表示添加不进去  </span><br><span class="line"></span><br><span class="line">`smembers` 名字 查看这个set里面的所有值</span><br><span class="line"></span><br><span class="line">srem是用于删除的  </span><br><span class="line"></span><br><span class="line">sismember是用于判断某个值是否是成员  1表示true  0表示false   </span><br><span class="line"></span><br><span class="line">![](41.png)  </span><br><span class="line"></span><br><span class="line">sdiff 求差集  </span><br><span class="line">sinter 求交集  </span><br><span class="line">sunion 求并集(重复元素去掉)   </span><br><span class="line">scard 总共有多少个  </span><br><span class="line"></span><br><span class="line">`srandmember 名字 `  随机返回set里面的成员  </span><br><span class="line"></span><br><span class="line">`sdiffstore 要存储到的名字 名字1 名字2 ` 将名字1 和名字2中相差的常用存储到第一个参数里面去  </span><br><span class="line"></span><br><span class="line">`sinterstore`  交集存储到新的set里面去 </span><br><span class="line">`sunionstore` 并集存储到新的set里面去 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">![](42.png)  </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">## Redis数据结构之Sorted-Set </span><br><span class="line">Sorted-Set 和 Set 都是字符串的集合  都不允许重复的内容出现在set中 </span><br><span class="line"></span><br><span class="line">Sorted-Set和Set的区别 </span><br><span class="line"></span><br><span class="line">Sorted-Set的每一个值都有一个分数与其关联  </span><br><span class="line"></span><br><span class="line">Sorted-Set中的成员在集合中的位置是有序的 </span><br><span class="line"> </span><br><span class="line"> ![](43.png)  </span><br><span class="line"></span><br><span class="line">`zadd 名字 分数1 值1  分数2  值2  .. ` </span><br><span class="line">如果之前有这个值，仍然往里面添加，会覆盖这个值，并且返回0  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> ![](44.png)  </span><br><span class="line"> </span><br><span class="line">获得分数 `zscore`    </span><br><span class="line">获得数量 `zcard`    </span><br><span class="line">删除 `zrem`   </span><br><span class="line">范围查找 `zrange mysort 0 -1`	 -1表示最后一个   </span><br><span class="line">`range mysort 0 -1  withscores` 表示同时显示分数  默认是分数由小到大排序的  </span><br><span class="line"></span><br><span class="line">![](45.png) </span><br><span class="line">![](46.png)  </span><br><span class="line"></span><br><span class="line">`zrevrange mysort 0 -1 withscores` 按分数从大到小 排序 </span><br><span class="line">![](47.png)  </span><br><span class="line">`zremrangebyrank mysort 0 4` 按照排名删除 0到4个，即5个  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">`zremrangebyscore mysort 起始分数(包含) 终止分数(包含)`  按照分数范围删除  </span><br><span class="line"></span><br><span class="line">![](48.png)  </span><br><span class="line"></span><br><span class="line">返回分数区间的成员，并按照从低到高进行排序 </span><br><span class="line">![](49.png)  </span><br><span class="line">只显示2个 </span><br><span class="line">![](50.png)  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">`zrevrangebyscore` 逆序按分数排列  **注意分数区间也要倒着写**</span><br><span class="line"></span><br><span class="line">![](51.png) </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">`zincrby mysort  6  赵六`    为赵六增加6分 </span><br><span class="line"></span><br><span class="line">`zcount` 统计分数段内有多少个 </span><br><span class="line"></span><br><span class="line">![](52.png)   </span><br><span class="line"></span><br><span class="line">使用场景  游戏排名  构建索引数据  </span><br><span class="line"></span><br><span class="line">##  Keys的通用操作  </span><br><span class="line"></span><br><span class="line">![](53.png)  </span><br><span class="line"></span><br><span class="line">`keys * `列出所有keys  </span><br><span class="line">`kyes my*` 列出所有my开头的keys 教程上是？号  </span><br><span class="line"></span><br><span class="line">![](54.png)  </span><br><span class="line">del 多个key 可以删除  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">exists可以判断某个key是否存在  存在返回1  不存在返回0</span><br></pre></td></tr></table></figure>
<p>127.0.0.1:6379&gt; exists mylist2<br>0<br>127.0.0.1:6379&gt; exists myset<br>1<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">`rename 名字 新名字` 注意这里改的是名字而不是值    </span><br><span class="line"></span><br><span class="line">![](55.png)   </span><br><span class="line"></span><br><span class="line">设置过期时间 超过过期时间就获取不到了   如果某个key没有设置过期时间，会返回-1  如果已经过期，返回-2  </span><br><span class="line">![](56.png)  </span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">type命令返回指定key的类型   没有这个key返回none</span><br></pre></td></tr></table></figure></p>
<p>127.0.0.1:6379&gt; type age<br>string<br>127.0.0.1:6379&gt; type myset<br>set<br>127.0.0.1:6379&gt; type mylist<br>list<br>127.0.0.1:6379&gt; type mysort<br>zset<br>```  </p>
<h2 id="redis的特性"><a href="#redis的特性" class="headerlink" title="redis的特性"></a>redis的特性</h2><ul>
<li>多数据看 </li>
<li>支持事务  </li>
</ul>
<p>一个redis最多可提供16个数据库  分别是0到15 客户端默认连接的是0  </p>
<p><code>select 1</code>  可以选择1号数据库<br><code>move key</code> 可以将某个key移到某个数据库  </p>
<p><img src="57.png" alt>  </p>
<p>用这三个命令来实现事务  <code>multi exec discard</code>   </p>
<p>事务中所有命令都将被串行化顺序执行 执行事务期间，redis不会再为其他客户端执行任务 ， 从而保证事务中的命令都被原子化执行，</p>
<p>事务中如果某个命令执行失败，剩下的还是会被执行，</p>
<p>使用multi来开启事务   </p>
<p>multi后面的命令都被视作事务的相关操作  </p>
<p>exec相当于提交  commit  </p>
<p>discard相当于回滚  </p>
<p>在事务开启之前，如果客户端和服务器之间出现网络错误，那么所执行的语句都将不会被服务器提交  </p>
<p>如果网络断开是发生在执行之后的，那么这个事务中的所有命令都会被服务器执行  </p>
<p>multi表示开启事务，它后面执行的命令都会被存到命令的队列当中   </p>
<p><img src="58.png" alt>  </p>
<p><img src="59.png" alt>  </p>
<p>如图所示，当在执行事务的时候，get age仍然是255，没有变 </p>
<p>一旦执行完成之后，就变了  </p>
<p><img src="60.png" alt>  </p>
<p><img src="61.png" alt>  </p>
<p>回滚 </p>
<p><img src="62.png" alt>  </p>
<p><code>discard</code> 回滚，回滚了就不需要再exec了 </p>
<h2 id="Redis持久化"><a href="#Redis持久化" class="headerlink" title="Redis持久化"></a>Redis持久化</h2><p>两种持久化方式 </p>
<ul>
<li>RDB方式</li>
<li>AOF方式 </li>
<li>无持久化 </li>
<li>同时使用RDB和AOF</li>
</ul>
<p>RDB 指定的时间间隔将数据写入到磁盘中<br>AOF 以日志形式记录每一次操作  </p>
<h2 id="RDB方式"><a href="#RDB方式" class="headerlink" title="RDB方式"></a>RDB方式</h2><p>默认使用RDB方式   </p>
<p>优势:<br>整个redis数据库将只包含一个文件,方便备份<br>对于恢复而言，RDB是一个非常不错的选择<br>性能最大化</p>
<p>劣势<br>举例，每30秒写一次，结果25秒的时候宕机了  前25秒数据就丢失了<br>子进程来完成数据持久化操作的，如果数据集大的时候，可能会导致整个服务器需要停止一段时间   </p>
<p>配置: </p>
<p>默认配置<br><img src="63.png" alt>  </p>
<p>意思是每900秒(15分钟)至少有一个key发生变化就写一次<br>每300秒(5分钟)至少有10个key发生变化就写一次<br>每60秒至少有10000个key发生变化就写一次   </p>
<p><img src="64.png" alt>  </p>
<p>保存的文件名是dump.rdb  保存的路径是当前目录路径   </p>
<h2 id="AOF方式"><a href="#AOF方式" class="headerlink" title="AOF方式"></a>AOF方式</h2><p>优势:<br>更高的数据安全性<br>每秒同步，每修改同步和不同步  </p>
<p>每秒同步也是异步完成的<br>每修改同步效率是最低的，但是是最安全的   </p>
<p>aof对于日志的写入是append模式(追加),因此在写入的过程中如果出现了宕机的现象，也不会破坏日志文件中已经存在的内容 </p>
<p>如果某次操作只写入了一半就出现了问题，也不用担心，下次启动之前使用<code>redis-check-aof</code>这个工具来帮助我们解决数据一致性的问题  </p>
<p>如果日志过大，redis可以自动启动重写机制，redis用append不断的将数据接入到老的文件中，同时，redis还会创建一个新的文件用于记录此期间产生了那些命令被执行了  因此在进行重写切换的时候，可以更好的保证数据的安全性  </p>
<p>aof包含一个格式非常清晰日志文件用于记录所有的修改操作，也可以通过这个文件来完成数据的重建 </p>
<p>缺点:  </p>
<p>相同数据，aof文件比rdb文件大<br>运行效率低于rdb  </p>
<p>配置<br>默认情况下使用RDB方式，所以<br><code>appendonly</code> 是 no<br><img src="65.png" alt>  </p>
<p>同步设置 </p>
<p><img src="66.png" alt>  </p>
<p>appendfsync always 表示每修改都同步 </p>
<p>appendfsync  everysec 表示每秒同步  </p>
<p>appendfsync no 表示不同步  </p>
<p>我们要启用aof模式，就把appendonly 改为 yes<br>然后 使用每修改同步  </p>
<p>然后保存，停止redis，重新启动redis  </p>
<p>重启之后我们加入些数据，然后flushall，清空数据<br><img src="67.png" alt>  </p>
<p>同时可以看到有appendonly.aof文件了<br><img src="68.png" alt>  </p>
<p>然后我们将redis 关掉  </p>
<p>打开appendonly.aof文件，将末尾的fulshall删掉 ,保存  </p>
<p>然后重新启动下，<code>keys *</code>  可以看到数据都有了<br><img src="69.png" alt>  </p>

    

    
</div>


                
		<!-- Post Comments -->
                
                    
                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/09/22/Introduction-of-ElasticSearch/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/04/08/Kafka-Install-and-ABC/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.jpg" alt="Rico's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        chenhongjie101@gmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2020/06/">六月 2020<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/10/">十月 2019<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/09/">九月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/05/">五月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/03/">三月 2019<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/02/">二月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/01/">一月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/12/">十二月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/11/">十一月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/09/">九月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/10/">十月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/09/">九月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/08/">八月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/04/">四月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/03/">三月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/09/">九月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/07/">七月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/03/">三月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/02/">二月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/04/">四月 2015<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/01/">一月 2015<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    
        <li>
            <a href="/about" title="About">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                About
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material chenhongjie 

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>
  -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/Ricoccc" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/rico.austin.5" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-facebook">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://plus.google.com/u/0/103668464393164710629" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-gplus">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>Rico's Blog
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->


    <script>lsloader.load("js/lazyload.min.js","/js/lazyload.min.js?wgjW/HuQG9JDgvPDPoRAng==")</script>
    <script>lsloader.load("js/js.min.js","/js/js.min.js?oAl/+lvaqTFV31JXTmbrNA==")</script>



    <script>lsloader.load("js/nprogress.js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==")</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>













<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Window Load-->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->

<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Bing Background -->


<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.4.0 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
