<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.6 -->
    <script>
        window.materialVersion = "1.5.6"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0',
            '1.5.2',
            '1.5.5'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">







    <link rel="dns-prefetch" href="https://hm.baidu.com"/>



    <link rel="dns-prefetch" href="https://fonts.googleapis.com"/>





    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            编译安装PosgreSQL和PostGIS | 
        
        Rico&#39;s Blog
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" href="/img/favicon.png">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="">
    <meta name="keywords" content="HogwartsRico,Linux">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?uVzgA6RLrOm13Ukw8Qgy+A==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/github-v2.min.css?AfzKxt++K+/lhZBlSjnxwg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body {
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text {
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?ezyEvm8ST5CGfpA+kFFi1g==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Rico&#39;s Blog">
    <meta name="msapplication-starturl" content="http://hogwartsrico.github.io/2016/09/12/Compile-And-Install-PostgreSQL-PostGIS/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Rico&#39;s Blog">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://hogwartsrico.github.io/2016/09/12/Compile-And-Install-PostgreSQL-PostGIS/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="编译安装PosgreSQL和PostGIS | Rico&#39;s Blog">
    <meta property="og:image" content="/img/favicon.png">
    <meta property="og:description" content="">
    <meta property="og:article:tag" content="Linux"> 

    
        <meta property="article:published_time" content="Mon Sep 12 2016 20:43:34 GMT+0800">
        <meta property="article:modified_time" content="Fri Apr 29 2022 21:39:55 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://hogwartsrico.github.io/2016/09/12/Compile-And-Install-PostgreSQL-PostGIS/index.html" />
    

    <!-- Structured-data for SEO -->
    

    <!-- Analytics -->
    
    
        <script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?54ee66f82cedec3c2b6b4ea942911185';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>
    
    

    <!-- Custom Head -->
    

<meta name="generator" content="Hexo 6.2.0"></head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E4%B8%8B%E8%BD%BDPostgreSQL"><span class="post-toc-number">1.</span> <span class="post-toc-text">下载PostgreSQL</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85PostgreSQL"><span class="post-toc-number">2.</span> <span class="post-toc-text">编译安装PostgreSQL</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%AE%89%E8%A3%85%E5%AE%8C%E6%88%90%E5%90%8E%E9%85%8D%E7%BD%AE"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">安装完成后配置</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%88%9B%E5%BB%BA-postgres-%E7%94%A8%E6%88%B7"><span class="post-toc-number">2.1.1.</span> <span class="post-toc-text">创建 postgres 用户</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%88%9B%E5%BB%BApostgresql-%E6%95%B0%E6%8D%AE%E7%9B%AE%E5%BD%95%EF%BC%9A"><span class="post-toc-number">2.1.2.</span> <span class="post-toc-text">创建postgresql 数据目录：</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96postgresql%E6%95%B0%E6%8D%AE%E7%9B%AE%E5%BD%95"><span class="post-toc-number">2.1.3.</span> <span class="post-toc-text">初始化postgresql数据目录</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E9%AA%8C%E8%AF%81postgresql%E6%95%B0%E6%8D%AE%E7%9B%AE%E5%BD%95"><span class="post-toc-number">2.1.4.</span> <span class="post-toc-text">验证postgresql数据目录</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%90%AF%E5%8A%A8pgsql%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="post-toc-number">2.1.5.</span> <span class="post-toc-text">启动pgsql数据库</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%88%9B%E5%BB%BA%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="post-toc-number">2.1.6.</span> <span class="post-toc-text">创建测试数据库</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%BF%9B%E5%85%A5test%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="post-toc-number">2.1.7.</span> <span class="post-toc-text">进入test数据库</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%A6%82%E4%BD%95%E5%85%B3%E9%97%AD-PostgreSQL"><span class="post-toc-number">2.1.8.</span> <span class="post-toc-text">如何关闭 PostgreSQL</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E5%AE%89%E8%A3%85-pgAdmin"><span class="post-toc-number">3.</span> <span class="post-toc-text">安装 pgAdmin</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E4%B8%8B%E8%BD%BDPostGIS"><span class="post-toc-number">4.</span> <span class="post-toc-text">下载PostGIS</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#GEOS"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">GEOS</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Proj-4"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">Proj.4</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#GDAL"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">GDAL</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#LibXML2"><span class="post-toc-number">4.4.</span> <span class="post-toc-text">LibXML2</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#JSON-C"><span class="post-toc-number">4.5.</span> <span class="post-toc-text">JSON-C</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85PostGIS"><span class="post-toc-number">5.</span> <span class="post-toc-text">编译安装PostGIS</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%B5%8B%E8%AF%95%E5%AE%89%E8%A3%85%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE%E2%80%94%E2%80%93%E5%88%9B%E5%BB%BA%E7%A9%BA%E9%97%B4%E6%95%B0%E6%8D%AE%E5%BA%93%E3%80%82"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">测试安装是否正确—–创建空间数据库。</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E4%BF%AE%E6%94%B9%E7%99%BD%E5%90%8D%E5%8D%95"><span class="post-toc-number">6.</span> <span class="post-toc-text">修改白名单</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E5%8F%82%E8%80%83"><span class="post-toc-number">7.</span> <span class="post-toc-text">参考</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 15 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                编译安装PosgreSQL和PostGIS
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Rico</strong>
        <span>9月 12, 2016</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-none-link" href="/tags/Linux/" rel="tag">Linux</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=编译安装PosgreSQL和PostGIS&url=http://hogwartsrico.github.io/2016/09/12/Compile-And-Install-PostgreSQL-PostGIS/index.html&pic=http://hogwartsrico.github.io/img/favicon.png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=编译安装PosgreSQL和PostGIS&url=http://hogwartsrico.github.io/2016/09/12/Compile-And-Install-PostgreSQL-PostGIS/index.html&via=Rico" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://hogwartsrico.github.io/2016/09/12/Compile-And-Install-PostgreSQL-PostGIS/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>这篇文章主要记录在ubuntu server下编译安装postgresql9.3和postgis2.1  </p>
<h1 id="下载PostgreSQL"><a href="#下载PostgreSQL" class="headerlink" title="下载PostgreSQL"></a>下载PostgreSQL</h1><p>打开<a target="_blank" rel="noopener" href="https://www.postgresql.org/download/linux/ubuntu/">PostgreSQL</a>的<a target="_blank" rel="noopener" href="http://www.enterprisedb.com/products-services-training/pgbindownload">下载网站</a>  </p>
<p>下载源码   </p>
<p><img src="2.png" alt=""> </p>
<p>我下载9.3版本的   </p>
<h1 id="编译安装PostgreSQL"><a href="#编译安装PostgreSQL" class="headerlink" title="编译安装PostgreSQL"></a>编译安装PostgreSQL</h1><pre><code>tar -jxvf postgresql-9.0.2.tar.bz2  
cd postgresql-9.0.2  
./configure --prefix=/usr/local/pgsql  &lt;==配置软件的安装目录
make 
make install
</code></pre><p>在安装过程中可能或出现<code>make(build-essential)</code>  <code>gcc</code> <code>c++</code> <code>readline</code> <code>zlib</code>等包的缺失 </p>
<p>安装 build-essential</p>
<pre><code> sudo aptitude install build-essential
</code></pre><p>安装 g++ </p>
<pre><code>sudo apt-get install g++-4.8 
</code></pre><p>安装gcc </p>
<p><code>sudo apt-get install gcc-4.8</code><br>下面是安装zlib和readline的  </p>
<p>虽然可以加上 “–without-readline” 即<code>./configure --prefix=/usr/local/pgsql --without-readline</code>  从而避开这个ERROR，<br>但Postgresql官方不推荐这么做，所以还是安装吧。  </p>
<pre><code>sudo apt-get install zlib1g-dev

sudo apt-get install libreadline-dev 或apt-get install libreadline-gplv2-dev


</code></pre><p><img src="3.png" alt=""> </p>
<p><img src="4.png" alt=""> </p>
<p>PostgreSQL9.3 安装完成   </p>
<h2 id="安装完成后配置"><a href="#安装完成后配置" class="headerlink" title="安装完成后配置"></a>安装完成后配置</h2><p>PostgreSQL 不能以 root 用户运行，所以我们</p>
<h3 id="创建-postgres-用户"><a href="#创建-postgres-用户" class="headerlink" title="创建 postgres 用户"></a>创建 postgres 用户</h3><pre><code>adduser postgres
passwd postgres
</code></pre><p>一般执行adduser之后会自动让你输入密码和一些信息</p>
<h3 id="创建postgresql-数据目录："><a href="#创建postgresql-数据目录：" class="headerlink" title="创建postgresql 数据目录："></a>创建postgresql 数据目录：</h3><p><code>mkdir /usr/local/pgsql/9.1/data/</code> 为啥不用<code>mkdir /usr/local/pgsql/9.1/data/</code>是为了防止以后安装了不同版本的pg </p>
<p><code>chown postgres /usr/local/pgsql/9.1/data或 chown postgres:postgres /usr/local/pgsql/data</code> </p>
<p><code>ls -ld /usr/local/pgsql/data</code> </p>
<p>会出现如下界面</p>
<p><img src="9.png" alt=""> </p>
<h3 id="初始化postgresql数据目录"><a href="#初始化postgresql数据目录" class="headerlink" title="初始化postgresql数据目录"></a>初始化postgresql数据目录</h3><p>su postgres切换到postgres用户</p>
<p>/usr/local/pgsql/bin/initdb -D /usr/local/pgsql/9.3/data/</p>
<p><img src="10.png" alt=""> </p>
<h3 id="验证postgresql数据目录"><a href="#验证postgresql数据目录" class="headerlink" title="验证postgresql数据目录"></a>验证postgresql数据目录</h3><p>ls -l /usr/local/pgsql/data</p>
<p>出现如下界面：</p>
<p><img src="11.png" alt=""> </p>
<h3 id="启动pgsql数据库"><a href="#启动pgsql数据库" class="headerlink" title="启动pgsql数据库"></a>启动pgsql数据库</h3><pre><code>touch /usr/local/pgsql/9.3/data/logfile 创建日志文件
/usr/local/pgsql/bin/postgres -D /usr/local/pgsql/9.3/data &gt; /usr/local/pgsql/9.3/data/logfile 2&gt;&amp;1 &amp;  让postgresql在后台运行
</code></pre><p>出现如下界面：</p>
<p><img src="12.png" alt=""> </p>
<h3 id="创建测试数据库"><a href="#创建测试数据库" class="headerlink" title="创建测试数据库"></a>创建测试数据库</h3><p><code>/usr/local/pgsql/bin/createdb test</code> </p>
<h3 id="进入test数据库"><a href="#进入test数据库" class="headerlink" title="进入test数据库"></a>进入test数据库</h3><p><code>/usr/local/pgsql/bin/psql test</code> </p>
<p><img src="13.png" alt=""> </p>
<p>输入建表语句：</p>
<p><code>CREATE TABLE mytable (id VARCHAR(20), name VARCHAR(30));</code></p>
<p>建立完成后，会得到一条 “CREATED” 的信息，表示建立成功。</p>
<p><img src="14.png" alt=""> </p>
<p>现在插入一条数据：</p>
<p><code>INSERT INTO mytable VALUES(&#39;author&#39;, &#39;rico&#39;);</code> </p>
<p>psql 返回类似 INSERT 0 1</p>
<p>查询插入是否成功：</p>
<p><code>SELECT * FROM mytable;</code></p>
<p><img src="15.png" alt=""> </p>
<p>退出 psql :  </p>
<p><code>\q</code></p>
<h3 id="如何关闭-PostgreSQL"><a href="#如何关闭-PostgreSQL" class="headerlink" title="如何关闭 PostgreSQL"></a>如何关闭 PostgreSQL</h3><p>  切换到 postgres 用户</p>
<p><code>su - postgres</code></p>
<p>关闭 PostgreSQL</p>
<p><code>/usr/local/pgsql/bin/pg_ctl stop -D /usr/local/pgsql/9.3/data</code></p>
<p><img src="16.png" alt=""> </p>
<p>当然 你还可以查看下日志logfile</p>
<p><img src="17.png" alt="">  </p>
<p>退出 postgres 用户</p>
<p><code>exit</code></p>
<p>参考 <a target="_blank" rel="noopener" href="http://blog.csdn.net/longshengguoji/article/details/38468449">http://blog.csdn.net/longshengguoji/article/details/38468449</a><br><a target="_blank" rel="noopener" href="http://blog.csdn.net/leonzhouwei/article/details/7934810">http://blog.csdn.net/leonzhouwei/article/details/7934810</a></p>
<h1 id="安装-pgAdmin"><a href="#安装-pgAdmin" class="headerlink" title="安装 pgAdmin"></a>安装 pgAdmin</h1><p>注意，有桌面才装pgadmin，只有命令行模式不要安装pgadmin </p>
<p><a target="_blank" rel="noopener" href="https://www.pgadmin.org/download/source.php">pgAdmin主页</a> 上有pgAdmin3和4</p>
<p>我这里安装pgAdmin3 的1.22版本<br><a target="_blank" rel="noopener" href="https://www.postgresql.org/ftp/pgadmin3/release/v1.22.1/src/">下载</a>  </p>
<p>1 安装必要的库  </p>
<pre><code>sudo apt-get install libxml2-dev

sudo apt-get install libxslt1-dev

sudo apt-get install libpq-dev

sudo apt-get install wx-common libwxgtk2.8-dev

</code></pre><p>2  如果 <code>/usr/lib</code> 下有 <code>libcrypto.so</code>  </p>
<pre><code>cd /usr/lib

sudo ln -s libcrypto.so.x.y.z libcrypto.so  // 创建软连接  libcrypto.so.x.y.z 是你的 /usr/lib 下已有的某个版本的crypto动态库文件名
</code></pre><p>3 切换到你的 pgAdmin3 解压后的目录后编译安装 pgAdmin3  </p>
<pre><code>tar -zxvf pgadmin3-1.22.1.tar.gz 
cd pgadmin3-1.22.1
./configure
make all
sudo make install
</code></pre><p><code>./configure</code>执行完成之后可能会<a target="_blank" rel="noopener" href="http://www.guguncube.com/2798/pgadmin3-installation-latest-version">报错</a> </p>
<blockquote>
<p>configure: error: could not find a suitable C++ compiler to build pgAdmin  </p>
</blockquote>
<p>解决办法：  </p>
<p>执行 <code>sudo apt-get install -y build-essential</code> //是为了 install g++ compiler   </p>
<p>然后就可以make了<br><img src="5.png" alt=""> </p>
<p>编译很慢，耐心等待   </p>
<p><img src="6.png" alt=""></p>
<p><img src="7.png" alt=""> </p>
<p><img src="8.png" alt=""> </p>
<p>运行 pgAdmin3</p>
<pre><code>cd /usr/local/pgadmin3/bin

sudo ./pgadmin3
</code></pre><h1 id="下载PostGIS"><a href="#下载PostGIS" class="headerlink" title="下载PostGIS"></a>下载PostGIS</h1><p>我这里下载2.1版本的<br>打开PostGIS的<a target="_blank" rel="noopener" href="http://postgis.net/source/">源码网站</a> 下载2.1的源码<br><img src="1.png" alt=""> </p>
<p>安装postgis之前还需要安装 <a target="_blank" rel="noopener" href="http://trac.osgeo.org/geos">GEOS</a>, <a target="_blank" rel="noopener" href="https://trac.osgeo.org/proj/">Proj.4</a>, <a target="_blank" rel="noopener" href="http://gdal.org/">GDAL</a>, <a target="_blank" rel="noopener" href="http://www.xmlsoft.org/">LibXML2</a> 和 <a target="_blank" rel="noopener" href="https://github.com/json-c/json-c">JSON-C</a> 这几个库 </p>
<p>虽然这三个库不是安装postgis强制的，但是，没有这三个包，</p>
<p>postgis一定程度上失去了空间数据库的意义。因为Proj4提供了投影的相关操作，如postgis中的transform()函数，geos则为postgis提供了很多拓扑</p>
<p>检查功能的函数，如Touches(), Contains(), Disjoint() 还有一些空间操作函数，如Intersection(), Union() 以及 Buffer()等 ，而Libxml2则提供了对GML和KML的操作函数，如ST_GeomFromGML(), ST_GeomFromKML()等,如果丧失了这样特性，空间数据库将会怎样！</p>
<h2 id="GEOS"><a href="#GEOS" class="headerlink" title="GEOS"></a>GEOS</h2><p>官网  <a target="_blank" rel="noopener" href="https://trac.osgeo.org/geos">https://trac.osgeo.org/geos</a> 下载源码包 </p>
<p>编译安装 </p>
<pre><code>tar -jxvf geos-3.5.0.tar.bz2 
cd geos-3.5
./configure 或加上 --prefix=/usr/local/geos 
make 
make install 
</code></pre><p><img src="19.png" alt="">   </p>
<p><img src="20.png" alt=""> </p>
<p>参考 <a target="_blank" rel="noopener" href="https://trac.osgeo.org/geos/wiki/BuildingOnUnixWithCMake">https://trac.osgeo.org/geos/wiki/BuildingOnUnixWithCMake</a></p>
<h2 id="Proj-4"><a href="#Proj-4" class="headerlink" title="Proj.4"></a>Proj.4</h2><p><a target="_blank" rel="noopener" href="https://github.com/OSGeo/proj.4">https://github.com/OSGeo/proj.4</a>  </p>
<p><a target="_blank" rel="noopener" href="https://github.com/OSGeo/proj.4/wiki">https://github.com/OSGeo/proj.4/wiki</a></p>
<pre><code>./autogen.sh
./configure
If another path prefix is required, then execute:
./configure --prefix=/my/path 例如 ./configure --prefix=/usr/local/proj 
In either case, the directory of the prefix path must exist and be
writable by the installer.
After executing configure, execute:
make
make install
</code></pre><p><img src="26.png" alt=""> </p>
<p><img src="27.png" alt=""> </p>
<p><img src="28.png" alt=""> </p>
<h2 id="GDAL"><a href="#GDAL" class="headerlink" title="GDAL"></a>GDAL</h2><p>gdal官网 <a target="_blank" rel="noopener" href="http://www.gdal.org/">http://www.gdal.org/</a><br>GDAL 下载 <a target="_blank" rel="noopener" href="https://trac.osgeo.org/gdal/wiki/DownloadingGdalBinaries">https://trac.osgeo.org/gdal/wiki/DownloadingGdalBinaries</a><br><a target="_blank" rel="noopener" href="https://trac.osgeo.org/gdal/wiki/DownloadSource">https://trac.osgeo.org/gdal/wiki/DownloadSource</a></p>
<p>编译指南  macos linux unix windows等<br><a target="_blank" rel="noopener" href="https://trac.osgeo.org/gdal/wiki/BuildHints">https://trac.osgeo.org/gdal/wiki/BuildHints</a><br><a target="_blank" rel="noopener" href="https://trac.osgeo.org/gdal/wiki/BuildingOnUnix">https://trac.osgeo.org/gdal/wiki/BuildingOnUnix</a></p>
<pre><code>./configure  或加上--prefix=/usr/local/gdal 
make 
make install 

</code></pre><h2 id="LibXML2"><a href="#LibXML2" class="headerlink" title="LibXML2"></a>LibXML2</h2><p>Libxml2是个C语言的XML程式库，能简单方便的提供对XML文件的各种操作，并且支持XPATH查询，及部分的支持XSLT转换等功能。Libxml2的下载地址是<br><a target="_blank" rel="noopener" href="http://xmlsoft.org/">http://xmlsoft.org/</a>  </p>
<p>源码包列表 <a href="ftp://xmlsoft.org/libxml2/">ftp://xmlsoft.org/libxml2/</a></p>
<p>我这里下载了libxml2-2.9.4.tar.gz  </p>
<p><img src="18.png" alt=""> </p>
<p>它的git地址 <a target="_blank" rel="noopener" href="https://git.gnome.org/browse/libxml2/">https://git.gnome.org/browse/libxml2/</a></p>
<pre><code>tar -zxvf tar -zxvf libxml2-2.9.4.tar.gz 
cd libxml22-2.9.4
./configure 或加上--prefix=/usr/local/xmllib2 
make 
make install
</code></pre><p><img src="21.png" alt=""> </p>
<p>然而make过程中报错 了<br><img src="22.png" alt=""> </p>
<p>报错说没有python 那就安装python</p>
<p><code>apt-get install python-dev</code></p>
<p>然后就make成功了</p>
<p><img src="23.png" alt=""> </p>
<p>再继续make install</p>
<p>参考 <a target="_blank" rel="noopener" href="http://www.cnblogs.com/shanzhizi/archive/2012/07/09/2583739.html">http://www.cnblogs.com/shanzhizi/archive/2012/07/09/2583739.html</a></p>
<h2 id="JSON-C"><a href="#JSON-C" class="headerlink" title="JSON-C"></a>JSON-C</h2><p>json-c github  <a target="_blank" rel="noopener" href="https://github.com/json-c/json-c">https://github.com/json-c/json-c</a><br><a target="_blank" rel="noopener" href="https://github.com/json-c/json-c/releases">https://github.com/json-c/json-c/releases</a><br>下载解压 </p>
<p>直接<code>./configure</code>然后make会报这个错 </p>
<blockquote>
<p>error: variable ‘size’ set but not used [-Werror=unused-but-set-variable]</p>
</blockquote>
<p><img src="29.png" alt=""> </p>
<p>所以找到对应目录中的Makefile文件，找到 -Werror 字段，去掉-Werror，重新编译，则问题解决!</p>
<pre><code>sed -i s/-Werror// Makefile.in tests/Makefile.in 
./configure --prefix=/usr/local/jsonc --disable-static       
make -j1
make install 
</code></pre><h1 id="编译安装PostGIS"><a href="#编译安装PostGIS" class="headerlink" title="编译安装PostGIS"></a>编译安装PostGIS</h1><p>以上环境都准备好了，开始安装PostGIS</p>
<pre><code>./configure --with-pgconfig=/usr/local/pgsql/bin/pg_config  --with-gdalconfig=/usr/local/gdal/bin/gdal-config 文件路径根据自己安装的
如果缺其他配置可以继续加上  例如 --with-projdir=/usr/local/proj --with-geosconfig=/usr/local/geos/bin/geos_config等 
make 
make install 


</code></pre><p><code>./configure</code>之后的截图<br><img src="30.png" alt=""> </p>
<p><img src="31.png" alt=""> </p>
<p><img src="32.png" alt=""> </p>
<p>参考 <a target="_blank" rel="noopener" href="http://blog.csdn.net/zuiaikg703/article/details/46776095">http://blog.csdn.net/zuiaikg703/article/details/46776095</a><br><a target="_blank" rel="noopener" href="http://www.linuxfromscratch.org/blfs/view/svn/general/json-c.html">http://www.linuxfromscratch.org/blfs/view/svn/general/json-c.html</a></p>
<h2 id="测试安装是否正确—–创建空间数据库。"><a href="#测试安装是否正确—–创建空间数据库。" class="headerlink" title="测试安装是否正确—–创建空间数据库。"></a>测试安装是否正确—–创建空间数据库。</h2><p>熟悉windows环境下postgis的朋友，都会注意到，安装了postgis后，pgsql中多了一个数据库template_postgis，这是个空间数据库的模板，其实就是个空间数据库。  </p>
<p>而在linux环境下通过源码安装的postgis，默认没有创建这个空间数据库，下面我就用创建者个模板空间数据库来验证上面的安装是否正确。<br>一旦创建了一个空间数据库模板，以后每次创建空间数据库只要在这个模板空间数据库上创建就可以了，省时省力！ </p>
<pre><code>切换用户
su - postgres 
创建日志文件 
touch /usr/local/pgsql/9.3/data/logfile

启动服务 
/usr/local/pgsql/bin/pg_ctl -D /usr/local/pgsql/9.3/data/ -l /usr/local/pgsql/9.3/data/logfile  start

创建数据库
/usr/local/pgsql/bin/createdb template_postgis  

创建空间数据库模板
/usr/local/pgsql/bin/psql -f /usr/local/pgsql/share/contrib/postgis-2.1/postgis.sql -d template_postgis

</code></pre><p><img src="47.png" alt=""> </p>
<p><img src="33.png" alt=""> </p>
<p>执行postgis.sql脚本，创建相关空间数据库相关的函数，类型，操作符等<br>执行完这个脚本，该数据库就具有了空间特性了  </p>
<pre><code>/usr/local/pgsql/bin/psql -f /usr/local/pgsql/share/contrib/postgis-2.1/spatial_ref_sys.sql -d template_postgis
</code></pre><p><img src="34.png" alt=""> </p>
<p>该命令在postgis数据库中创建了spatial_ref_sys表，用于存放空间投影信息。 </p>
<pre><code>createdb [-U username] -T template_postgis mypostgisdb
</code></pre><p>下次再创建数据库，只要以这个模板就可以了，不必每次都执行这个脚本,-U指定用户名，默认就是postgres</p>
<p><code>psql my_spatial_db</code> 连接到创建的空间数据库  </p>
<p><code>select postgis_full_version();</code>查询postgis的版本信息，包含用到的三个库信息</p>
<p><img src="35.png" alt=""> </p>
<p>创建一张表 </p>
<p><img src="36.png" alt=""> </p>
<p>增加一列空间字段</p>
<p><img src="37.png" alt=""> </p>
<p>随意插入一列数据 </p>
<p><img src="38.png" alt=""> </p>
<p>查看数据 </p>
<p><img src="39.png" alt=""> </p>
<p>查看一些配置信息</p>
<p><img src="40.png" alt=""> </p>
<h1 id="修改白名单"><a href="#修改白名单" class="headerlink" title="修改白名单"></a>修改白名单</h1><p>这时如果你打开web应用却发现连接不上PostgreSQL数据库</p>
<p><img src="45.png" alt=""> </p>
<p>postgresql默认只开启了本地访问权限，如果有web应用程序不是本地的需要开启</p>
<p><code>vi /usr/local/pgsql/9.3/data/pg_hba.conf</code></p>
<p><img src="41.png" alt=""> </p>
<p>IPV4区域<br>如果你只想放开某个IP<br><code>host    all             all             10.10.21.62/32            trust</code></p>
<p>如果可以让任意IP都可连接 </p>
<p><code>host    all         all         0.0.0.0/0             trust</code> </p>
<p>IPV6区域就根据IPV6的来改 </p>
<p>然后重启一下  </p>
<p>切换到postgre用户</p>
<p><code>su - postgres</code>  </p>
<p>到这里还不够<br>打开<br><code>vi /usr/local/pgsql/9.3/data/postgresql.conf</code><br>你会看到默认只监听了本地<br><img src="43.png" alt="">  </p>
<p>这时，你改成<code>*</code> </p>
<p><img src="44.png" alt=""> </p>
<p>重启 </p>
<p><code>/usr/local/pgsql/bin/pg_ctl  -D /usr/local/pgsql/9.3/data/ -l /usr/local/pgsql/9.3/data/logfile   restart</code></p>
<p>其他命令  </p>
<pre><code>
#停止服务
/usr/local/pgsql/bin/pg_ctl -D  /usr/local/pgsql/9.3/data/ -l /usr/local/pgsql/9.3/data/logfile  stop

#端口是否启用
netstat -anp | grep 5432
</code></pre><p><img src="42.png" alt=""> </p>
<p>这时再开启web应用就可以连接上了。  </p>
<p><img src="46.png" alt=""> </p>
<p><img src="48.png" alt=""> </p>
<p>至此 ，从编译安装PostgreSQL到PostGIS到连接，创库，创空间模板，创空间库，应用连接数据库都可以了</p>
<p>(完)</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/zhoulf/p/4040768.html">http://www.cnblogs.com/zhoulf/p/4040768.html</a><br><a target="_blank" rel="noopener" href="http://blog.csdn.net/dracotianlong/article/details/7907633">http://blog.csdn.net/dracotianlong/article/details/7907633</a><br><a target="_blank" rel="noopener" href="http://postgis.net/source/">http://postgis.net/source/</a><br><a target="_blank" rel="noopener" href="https://trac.osgeo.org/postgis/wiki/UsersWikiInstall">https://trac.osgeo.org/postgis/wiki/UsersWikiInstall</a><br><a target="_blank" rel="noopener" href="http://postgis.net/install/">http://postgis.net/install/</a><br><a target="_blank" rel="noopener" href="https://trac.osgeo.org/postgis/wiki/UsersWikiPostGIS21Ubuntu1404src">https://trac.osgeo.org/postgis/wiki/UsersWikiPostGIS21Ubuntu1404src</a></p>

        
                <blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;">
                    <p><strong>
                         
                            This blog is under a CC BY-NC-SA 3.0 Unported License
                        </strong>
                        <br>
                        <strong>本文链接：</strong><a href="http://hogwartsrico.github.io/2016/09/12/Compile-And-Install-PostgreSQL-PostGIS/">http://hogwartsrico.github.io/2016/09/12/Compile-And-Install-PostgreSQL-PostGIS/</a>
                    </p>
                </blockquote>
        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/03/20/Index-SpatialData/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2016/07/14/Using-PostGIS-to-implement-the-shortestpath/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="Rico's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        chenhongjie101@gmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto:chenhongjie101@gmail.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2022/07/">七月 2022<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2022/06/">六月 2022<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2022/03/">三月 2022<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2022/02/">二月 2022<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2021/12/">十二月 2021<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/12/">十二月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/11/">十一月 2020<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/08/">八月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/07/">七月 2020<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/06/">六月 2020<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/10/">十月 2019<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/09/">九月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/05/">五月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/03/">三月 2019<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/02/">二月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/01/">一月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/12/">十二月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/11/">十一月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/09/">九月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/10/">十月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/09/">九月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/08/">八月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/04/">四月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/03/">三月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/09/">九月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/07/">七月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/03/">三月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/02/">二月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/04/">四月 2015<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/01/">一月 2015<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    
        <li>
            <a href="/about" title="About">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                About
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">52</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/Ricoccc" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/rico.austin.5" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-facebook">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://plus.google.com/u/0/103668464393164710629" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-gplus">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    
        <a href="https://weibo.com/1878017080/profile" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-weibo">
                <span class="visuallyhidden">Weibo</span>
            </button><!--
     --></a>
    

    <!-- Instagram -->
    
        <a href="https://www.instagram.com/hogwartsrico/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-instagram">
                <span class="visuallyhidden">Instagram</span>
            </button><!--
     --></a>
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/HogwartsRico" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    
        <a href="https://space.bilibili.com/14573494" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-bilibili">
                <span class="visuallyhidden">Bilibili</span>
            </button><!--
     --></a>
    

    <!-- Telegram -->
    

    <!-- V2EX -->
    
        <a href="https://v2ex.com/member/Rico" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-v2ex">
                <span class="visuallyhidden">V2EX</span>
            </button><!--
     --></a>
    

    <!-- Segmentfault -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;<span year></span>&nbsp;Rico's Blog
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>-->
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?wgjW/HuQG9JDgvPDPoRAng==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?LT4t6iE6m8TO1BLGGiNJqA==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>



    
        <script>lsloader.load("sm_js","/js/smoothscroll.js?tNQK2Tw2SUL8a1Scn/Mgew==", true)</script>
    











<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('
<link rel="stylesheet" href="/css/uc.css">
');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->

<script type="text/ls-javascript" id="Bing-Background-script">
    queue.offer(function(){
        $('body').attr('data-original', 'https://api.i-meto.com/bing?');
    });
</script>


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    var copyrightNow = new Date().getFullYear();
    var textContent = document.querySelector('span[year]')

    copyrightSince = 2014;
    if (copyrightSince === copyrightNow||copyrightSince === 0000) {
        textContent.textContent = copyrightNow
    } else {
        textContent.textContent = copyrightSince + ' - ' + copyrightNow
    }

    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.6 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
